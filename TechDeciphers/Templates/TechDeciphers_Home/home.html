<!DOCTYPE html>
{% load static %}
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>News</title>

    <!-- Common Imports Like Bootstrap and Jquery -->
    {% include "CommonTemplates/CommonImports/allImports.html" %}

    <!-- Link to My Script and CSS -->
    <link rel="stylesheet" href="{% static "TechDeciphers_Gadgets/Css/main.css" %}">
    <link rel="stylesheet" href="{% static "TechDeciphers_News/Css/main.css" %}">
    <link rel="stylesheet" href="{% static "TechDeciphers_TopX/Css/main.css" %}">
    <link rel="stylesheet" href="{% static "TechDeciphers_Leaks/Css/main.css" %}">


  </head>
  <body>

    <!-- Navigation Bar -->
    {% include "CommonTemplates/NavigationBar/navigationBar.html" %}

    <div class="container">
        <!-- Main Body -->
        <div class="row">
          <div class="col-lg-9 col-sm-9">
            <div class="row">
                <hr>
                {% if gadgetsList %}
                  {% for gadget in gadgetsList %}
                    <div class="col-lg-4" onclick='openThisArticle("{{gadget.gadgetId}}","gadget")'>
                      <div class="card">
                          <img class="card-img-top" src="{{ gadget.gadgetImage.url }}" alt="Card image cap">
                        <div class="card-body">
                          <h5 class="card-title">{{ gadget.heading }}</h5>
                          <p class="card-text">{{gadget.miniContent}}</p>
                        </div>
                      </div>
                    </div>
                  {% endfor %}
                {% endif %}

                <hr>

                {% if newsList %}
                  {% for news in newsList %}
                    <div class="col-sm-6">
                      <div class="card">
                        <div class="row" onclick='openThisArticle("{{news.newsId}}","news")'>
                          <div class="col-lg-4">
                            <img class="card-img-top" src="{{ news.newsImage.url }}" alt="Card image cap">
                          </div>

                          <div class="col-lg-8">
                              <div class="card-body">
                                <h5 class="card-title">{{ news.heading }}</h5>
                                <p class="card-text">{{news.miniHeading}}</p>
                                <p class='articlePublishDetails'> <span class='articleAuthor'>{{news.postAuthor}}</span> <span class='publishDate'>{{news.postPublishDate}}</span> </p>
                              </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  {% endfor %}
                {% endif %}

                <hr>

                {% if topXList %}
                  {% for topX in topXList %}
                    <div class="col-sm-6">
                      <div class="card">
                        <div class="row" onclick='openThisArticle("{{topX.topXId}}","topX")'>
                          <div class="col-lg-4">
                            <img class="card-img-top" src="{{ topX.topXImage.url }}" alt="Card image cap">
                          </div>

                          <div class="col-lg-8">
                              <div class="card-body">
                                <h5 class="card-title">{{ topX.heading }}</h5>
                                <p class="card-text">{{topX.miniHeading}}</p>
                                <p class='articlePublishDetails'> <span class='articleAuthor'>{{topX.postAuthor}}</span> <span class='publishDate'>{{topX.postPublishDate}}</span> </p>
                              </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  {% endfor %}
                {% endif %}

                <hr>

                {% if leaksList %}
                  {% for leak in leaksList %}
                    <div class="col-sm-6">
                      <div class="card">
                        <div class="row" onclick='openThisArticle("{{leak.leakId}}","leaks")'>
                          <div class="col-lg-4">
                            <img class="card-img-top" src="{{ leak.leakImage.url }}" alt="Card image cap">
                          </div>

                          <div class="col-lg-8">
                              <div class="card-body">
                                <h5 class="card-title">{{ leak.heading }}</h5>
                                <p class="card-text">{{leak.miniHeading}}</p>
                                <p class='articlePublishDetails'> <span class='articleAuthor'>{{leak.postAuthor}}</span> <span class='publishDate'>{{leak.postPublishDate}}</span> </p>
                              </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  {% endfor %}
                {% endif %}

            </div>
          </div>

          <form action="getArticlePostContents/" id='getArticlePostContents' method="POST">
            {% csrf_token %}
            <input type="hidden" id='articlePrimaryId' name="articlePrimaryId" value="">
            <input type="hidden" id='articleType' name="articleType" value="">
          </form>

          <div class="col-lg-3 col-sm-3">

            {% for count in times %}

            <!-- Carousel -->
            {% include "CommonTemplates/Carousel/verticleCarousel.html" %}

            {% endfor %}

          </div>

      </div>
    </div>

    <!-- Footer -->
    {% include "CommonTemplates/Footer/techDeciphersFooter.html" %}


  </body>
</html>

<script>

function openThisArticle(articleId, articleType) {

  $('#articlePrimaryId').val(articleId);
  $('#articleType').val(articleType);
  $('#getArticlePostContents').submit();

}

</script>
